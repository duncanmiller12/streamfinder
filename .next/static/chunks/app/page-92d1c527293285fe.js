(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1366:(e,t,s)=>{Promise.resolve().then(s.bind(s,7213))},7213:(e,t,s)=>{"use strict";s.d(t,{default:()=>w});var r=s(5155),l=s(2115);let a=[{id:8,name:"Netflix",shortName:"Netflix",brandColor:"#E50914",textColor:"#FFFFFF",logoPath:"/pbpMk2JmcoNnQwx5JGpXngfoWtp.jpg"},{id:15,name:"Hulu",shortName:"Hulu",brandColor:"#28B46C",textColor:"#FFFFFF",logoPath:"/zxrVdFjIjLqkfnwyghnfywTn3Lh.jpg"},{id:337,name:"Disney+",shortName:"Disney+",brandColor:"#17337D",textColor:"#FFFFFF",logoPath:"/7rwgEs15tFwyR9NPQ5vpzxTj19Q.jpg"},{id:9,name:"Prime Video",shortName:"Prime",brandColor:"#00A8E1",textColor:"#FFFFFF",logoPath:"/pvske1MyAoymrs5bguRfVqYiM9a.jpg"},{id:1899,name:"Max",shortName:"Max",brandColor:"#002BE7",textColor:"#FFFFFF",logoPath:"/jbe4gVSfRlbPTdESXhEKpornsfu.jpg"},{id:387,name:"Apple TV+",shortName:"Apple",brandColor:"#2C2C2C",textColor:"#FFFFFF",logoPath:"/6uhKBfmtzFqOcLousHwZuzcrScK.jpg"},{id:2616,name:"Paramount+",shortName:"Paramount",brandColor:"#1A58C5",textColor:"#FFFFFF",logoPath:"/5wym1C0jAvJeGirPdgVpcW0CCuy.jpg"},{id:386,name:"Peacock",shortName:"Peacock",brandColor:"#000000",textColor:"#FFFFFF",logoPath:"/2aGrp1xw3qhwCYvNGAJZPdjfeeX.jpg"}],n=new Map(a.map(e=>[e.id,e]));var o=s(5772);function i({service:e,isSelected:t,onToggle:s}){return(0,r.jsxs)("button",{onClick:s,className:["relative rounded-xl overflow-hidden transition-all duration-200 border-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-purple-500",t?"shadow-lg scale-[1.02]":"border-gray-700 hover:border-gray-500"].join(" "),style:t?{borderColor:e.brandColor}:{},"aria-pressed":t,"aria-label":`${e.name}: ${t?"selected":"not selected"}`,children:[(0,r.jsx)("div",{className:"h-16 flex items-center justify-center bg-gray-800 p-2",children:(0,r.jsx)(o.default,{src:`https://image.tmdb.org/t/p/w92${e.logoPath}`,alt:e.name,width:48,height:48,className:"object-contain rounded-lg",unoptimized:!0})}),(0,r.jsxs)("div",{className:"bg-gray-900 px-2 py-2 flex items-center justify-between gap-1",children:[(0,r.jsx)("span",{className:"text-white text-sm font-medium truncate",children:e.name}),(0,r.jsx)("div",{className:["w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors flex-shrink-0",t?"":"border-gray-500"].join(" "),style:t?{backgroundColor:e.brandColor,borderColor:e.brandColor}:{},children:t&&(0,r.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})]})}function c({onComplete:e}){let[t,s]=(0,l.useState)(new Set),n=t.size===a.length;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center px-4 py-12",children:[(0,r.jsx)("div",{className:"w-18 h-18 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center mb-5 shadow-lg shadow-purple-900/30",children:(0,r.jsxs)("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M4 6h16v12H4V6zm2 2v8h12V8H6z"}),(0,r.jsx)("polygon",{points:"10,10 10,16 15,13",fill:"white"})]})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2 text-center",children:"StreamFinder"}),(0,r.jsx)("p",{className:"text-gray-400 text-center mb-6 max-w-md text-sm sm:text-base",children:"Select the streaming services you subscribe to. We'll show you only the titles you can actually watch."}),(0,r.jsx)("button",{onClick:()=>{s(n?new Set:new Set(a.map(e=>e.id)))},className:"mb-3 text-sm font-semibold text-purple-400 hover:text-purple-300 transition-colors underline underline-offset-2",children:n?"Deselect All":"Select All"}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 w-full max-w-lg mb-8",children:a.map(e=>(0,r.jsx)(i,{service:e,isSelected:t.has(e.id),onToggle:()=>{var t;return t=e.id,void s(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})}},e.id))}),(0,r.jsx)("button",{onClick:()=>t.size>0&&e(Array.from(t)),disabled:0===t.size,className:["w-full max-w-lg py-3.5 rounded-xl font-semibold text-lg transition-all",t.size>0?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:opacity-90 active:scale-95 shadow-md shadow-purple-900/30":"bg-gray-800 text-gray-500 cursor-not-allowed"].join(" "),children:t.size>0?`Get Started  (${t.size} selected)`:"Select at least one service"})]})}function d({value:e,onChange:t}){return(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search movies & TV showsâ€¦",className:"w-full bg-gray-800 text-white placeholder-gray-500 rounded-xl py-3.5 pl-12 pr-12 border border-gray-700 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/30 text-base transition-colors",autoComplete:"off",autoFocus:!0}),e&&(0,r.jsx)("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":"Clear search",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function x({result:e,index:t}){return(0,r.jsxs)("div",{className:"result-card-enter flex bg-gray-900 rounded-xl overflow-hidden hover:bg-gray-800 transition-colors",style:{animationDelay:`${40*t}ms`},children:[(0,r.jsxs)("div",{className:"w-24 sm:w-28 flex-shrink-0 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-800 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M8 5v14l11-7z"})})}),e.posterPath&&(0,r.jsx)("img",{src:`https://image.tmdb.org/t/p/w185${e.posterPath}`,alt:`${e.title} poster`,className:"relative w-full h-full object-cover",loading:"lazy",onError:e=>{e.currentTarget.style.display="none"}})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-between p-3 flex-1 min-w-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-start gap-2 flex-wrap",children:[(0,r.jsxs)("h3",{className:"text-white font-semibold text-base leading-snug",children:[e.title,e.year&&(0,r.jsxs)("span",{className:"text-gray-500 font-normal ml-1.5",children:["(",e.year,")"]})]}),(0,r.jsx)("span",{className:["text-xs font-semibold px-2 py-0.5 rounded-full flex-shrink-0","movie"===e.type?"bg-purple-900/60 text-purple-200":"bg-blue-900/60 text-blue-200"].join(" "),children:"movie"===e.type?"Movie":"TV Series"})]}),e.overview&&(0,r.jsx)("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:e.overview})]}),(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:e.matchedProviders.map(e=>{let t=n.get(e.providerId);return t?(0,r.jsx)("div",{className:"relative group",title:t.name,children:(0,r.jsx)(o.default,{src:`https://image.tmdb.org/t/p/w45${t.logoPath}`,alt:t.name,width:32,height:32,className:"rounded-md object-contain",unoptimized:!0})},e.providerId):null})})]})]})}function m(){return(0,r.jsx)("div",{className:"space-y-3 mt-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-3 bg-gray-900 rounded-xl p-3 animate-pulse",children:[(0,r.jsx)("div",{className:"w-24 sm:w-28 h-36 bg-gray-800 rounded-lg flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 space-y-2.5 pt-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-800 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-3 bg-gray-800 rounded w-1/3"}),(0,r.jsx)("div",{className:"h-3 bg-gray-800 rounded w-full"}),(0,r.jsx)("div",{className:"h-3 bg-gray-800 rounded w-5/6"}),(0,r.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,r.jsx)("div",{className:"h-5 bg-gray-800 rounded-full w-16"}),(0,r.jsx)("div",{className:"h-5 bg-gray-800 rounded-full w-20"})]})]})]},t))})}function h(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,r.jsx)("svg",{className:"w-16 h-16 text-gray-700 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("p",{className:"text-gray-500 text-lg font-medium",children:"Search for something to watch"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Results will be filtered to your selected services"})]})}function u({message:e}){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-red-500 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v3.75m-9.303 3.376a12 12 0 1021.593 0M12 15.75h.008v.008H12v-.008z"})}),(0,r.jsx)("p",{className:"text-red-400 font-medium",children:e}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Check your connection and try again"})]})}function p(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-600 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),(0,r.jsx)("p",{className:"text-gray-400 text-lg font-medium",children:"No results found"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Try a different search term"})]})}function g(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center px-4",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-600 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z"})}),(0,r.jsx)("p",{className:"text-gray-400 text-lg font-medium",children:"Not on your services"}),(0,r.jsx)("p",{className:"text-gray-500 text-sm mt-1 max-w-xs mx-auto",children:"None of the results are available on your selected streaming services. Try updating your services via the settings gear above."})]})}function f({results:e,isLoading:t,error:s,hasQuery:l,totalUnfiltered:a}){return l||t?t?(0,r.jsx)(m,{}):s?(0,r.jsx)(u,{message:s}):0===a?(0,r.jsx)(p,{}):0===e.length?(0,r.jsx)(g,{}):(0,r.jsxs)("div",{className:"space-y-3 mt-3 pb-8",children:[(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:[e.length," result",1!==e.length?"s":""," on your services"]}),e.map((e,t)=>(0,r.jsx)(x,{result:e,index:t},`${e.type}-${e.id}`))]}):(0,r.jsx)(h,{})}function j({isOpen:e,onClose:t,selectedServices:s,onSave:n}){let[o,c]=(0,l.useState)(new Set(s));if((0,l.useEffect)(()=>{e&&c(new Set(s))},[e,s]),(0,l.useEffect)(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;let d=o.size===a.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:t}),(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:(0,r.jsxs)("div",{className:"bg-gray-900 w-full sm:w-auto sm:max-w-lg sm:rounded-2xl rounded-t-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"sm:hidden flex justify-center pt-3 pb-1",children:(0,r.jsx)("div",{className:"w-10 h-1 bg-gray-700 rounded-full"})}),(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,r.jsx)("h2",{className:"text-white text-lg font-bold",children:"Your Streaming Services"}),(0,r.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors p-1","aria-label":"Close settings",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"px-4 pb-1",children:(0,r.jsx)("button",{onClick:()=>{c(d?new Set:new Set(a.map(e=>e.id)))},className:"text-sm font-semibold text-purple-400 hover:text-purple-300 transition-colors underline underline-offset-2",children:d?"Deselect All":"Select All"})}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 px-4 py-2",children:a.map(e=>(0,r.jsx)(i,{service:e,isSelected:o.has(e.id),onToggle:()=>{var t;return t=e.id,void c(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})}},e.id))}),(0,r.jsx)("div",{className:"px-4 py-4",children:(0,r.jsx)("button",{onClick:()=>{o.size>0&&(n(Array.from(o)),t())},disabled:0===o.size,className:["w-full py-3 rounded-xl font-semibold transition-all",o.size>0?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:opacity-90 active:scale-95":"bg-gray-800 text-gray-500 cursor-not-allowed"].join(" "),children:o.size>0?"Save Changes":"Select at least one service"})})]})})]})}function v({onSettingsClick:e}){return(0,r.jsx)("header",{className:"w-full",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-sm shadow-purple-900/40",children:(0,r.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M4 6h16v12H4V6zm2 2v8h12V8H6z"}),(0,r.jsx)("polygon",{points:"10,10 10,16 15,13",fill:"white"})]})}),(0,r.jsx)("span",{className:"text-white font-bold text-lg tracking-tight",children:"StreamFinder"})]}),(0,r.jsx)("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-gray-800","aria-label":"Open settings",children:(0,r.jsxs)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.826 3.31.077 3.279 1.815a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.31 1.738-1.477 2.641-3.279 1.815a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.738.826-3.505-.077-3.279-1.815a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.231-1.738 1.536-2.641 3.279-1.815a1.724 1.724 0 002.573-1.066z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})})}function y(){return(0,r.jsx)("footer",{className:"relative mt-12 pb-8",children:(0,r.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,r.jsx)("div",{className:"border-t border-gray-800 pt-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,r.jsx)("a",{href:"https://www.themoviedb.org",target:"_blank",rel:"noopener noreferrer",className:"opacity-70 hover:opacity-100 transition-opacity",children:(0,r.jsx)(o.default,{src:"/icons/tmdb-logo.svg",alt:"The Movie Database (TMDB)",width:80,height:10,className:"h-auto"})}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"This product uses the TMDB API but is not endorsed or certified by TMDB."})]})})})})}let b="streamfinder_selected_services";function w(){let[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!1),[i,x]=(0,l.useState)(""),m=function(e,t){let[s,r]=(0,l.useState)(e);return(0,l.useEffect)(()=>{let t=setTimeout(()=>r(e),400);return()=>clearTimeout(t)},[e,400]),s}(i,0),[h,u]=(0,l.useState)([]),[p,g]=(0,l.useState)(!1),[w,N]=(0,l.useState)(null),[k,C]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem(b);if(e)try{let s=JSON.parse(e);Array.isArray(s)&&s.length>0&&(t(s),a(!0))}catch{}o(!0)},[]);let F=(0,l.useCallback)(e=>{t(e),localStorage.setItem(b,JSON.stringify(e)),s||a(!0)},[s]);(0,l.useEffect)(()=>{let e=m.trim();if(!e){u([]),g(!1),N(null);return}let t=!1;return g(!0),N(null),fetch(`/api/search?q=${encodeURIComponent(e)}`).then(e=>e.json()).then(e=>{t||(e.error?N(e.error):u(e.results??[]),g(!1))}).catch(()=>{t||(N("Search failed. Please try again."),g(!1))}),()=>{t=!0}},[m]);let S=(0,l.useMemo)(()=>{let t=new Set(e);return h.map(e=>({...e,matchedProviders:e.providers.filter(e=>t.has(e.providerId))})).filter(e=>e.matchedProviders.length>0)},[h,e]);return n?s?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-950 relative",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 h-48 bg-gradient-to-b from-gray-900/50 to-transparent pointer-events-none"}),(0,r.jsx)(v,{onSettingsClick:()=>C(!0)}),(0,r.jsx)("div",{className:"relative max-w-2xl mx-auto px-4 pt-2 pb-1",children:(0,r.jsx)(d,{value:i,onChange:x})}),(0,r.jsx)("div",{className:"relative max-w-2xl mx-auto px-4",children:(0,r.jsx)(f,{results:S,isLoading:p,error:w,hasQuery:!!m.trim(),totalUnfiltered:h.length})}),(0,r.jsx)(y,{}),(0,r.jsx)(j,{isOpen:k,onClose:()=>C(!1),selectedServices:e,onSave:F})]}):(0,r.jsx)(c,{onComplete:F}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})})}}},e=>{e.O(0,[772,441,794,358],()=>e(e.s=1366)),_N_E=e.O()}]);